!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Parallax=a()}}}(function(){return function a(f,b,h){function g(m,i){if(!b[m]){if(!f[m]){var e="function"==typeof require&&require;if(!i&&e){return e(m,!0)}if(c){return c(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var j=b[m]={exports:{}};f[m][0].call(j.exports,function(n){var l=f[m][1][n];return g(l||n)},j,j.exports,a,f,b,h)}return b[m].exports}for(var c="function"==typeof require&&require,d=0;d<h.length;d++){g(h[d])}return g}({1:[function(c,g,b){function j(e){if(null===e||void 0===e){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}var h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;g.exports=function(){try{if(!Object.assign){return !1}var l=new String("abc");if(l[5]="de","5"===Object.getOwnPropertyNames(l)[0]){return !1}for(var m={},k=0;k<10;k++){m["_"+String.fromCharCode(k)]=k}if("0123456789"!==Object.getOwnPropertyNames(m).map(function(e){return m[e]}).join("")){return !1}var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(l){return !1}}()?Object.assign:function(p,r){for(var o,m,k=j(p),q=1;q<arguments.length;q++){o=Object(arguments[q]);for(var n in o){d.call(o,n)&&(k[n]=o[n])}if(h){m=h(o);for(var s=0;s<m.length;s++){f.call(o,m[s])&&(k[m[s]]=o[m[s]])}}}return k}},{}],2:[function(c,d,b){(function(e){(function(){var g,l,k,h,j,f;"undefined"!=typeof performance&&null!==performance&&performance.now?d.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(d.exports=function(){return(g()-j)/1000000},l=e.hrtime,h=(g=function(){var i;return 1000000000*(i=l())[0]+i[1]})(),f=1000000000*e.uptime(),j=h-f):Date.now?(d.exports=function(){return Date.now()-k},k=Date.now()):(d.exports=function(){return(new Date).getTime()-k},k=(new Date).getTime())}).call(this)}).call(this,c("_process"))},{_process:3}],3:[function(k,G,D){function A(){throw new Error("setTimeout has not been defined")}function z(){throw new Error("clearTimeout has not been defined")}function q(c){if(I===setTimeout){return setTimeout(c,0)}if((I===A||!I)&&setTimeout){return I=setTimeout,setTimeout(c,0)}try{return I(c,0)}catch(d){try{return I.call(null,c,0)}catch(d){return I.call(this,c,0)}}}function w(c){if(H===clearTimeout){return clearTimeout(c)}if((H===z||!H)&&clearTimeout){return H=clearTimeout,clearTimeout(c)}try{return H(c)}catch(d){try{return H.call(null,c)}catch(d){return H.call(this,c)}}}function J(){g&&x&&(g=!1,x.length?F=x.concat(F):b=-1,F.length&&C())}function C(){if(!g){var c=q(J);g=!0;for(var d=F.length;d;){for(x=F,F=[];++b<d;){x&&x[b].run()}b=-1,d=F.length}x=null,g=!1,w(c)}}function E(c,d){this.fun=c,this.array=d}function j(){}var I,H,B=G.exports={};!function(){try{I="function"==typeof setTimeout?setTimeout:A}catch(c){I=A}try{H="function"==typeof clearTimeout?clearTimeout:z}catch(c){H=z}}();var x,F=[],g=!1,b=-1;B.nextTick=function(d){var f=new Array(arguments.length-1);if(arguments.length>1){for(var c=1;c<arguments.length;c++){f[c-1]=arguments[c]}}F.push(new E(d,f)),1!==F.length||g||q(C)},E.prototype.run=function(){this.fun.apply(null,this.array)},B.title="browser",B.browser=!0,B.env={},B.argv=[],B.version="",B.versions={},B.on=j,B.addListener=j,B.once=j,B.off=j,B.removeListener=j,B.removeAllListeners=j,B.emit=j,B.prependListener=j,B.prependOnceListener=j,B.listeners=function(c){return[]},B.binding=function(c){throw new Error("process.binding is not supported")},B.cwd=function(){return"/"},B.chdir=function(c){throw new Error("process.chdir is not supported")},B.umask=function(){return 0}},{}],4:[function(c,d,b){(function(k){for(var g=c("performance-now"),f="undefined"==typeof window?k:window,w=["moz","webkit"],e="AnimationFrame",t=f["request"+e],j=f["cancel"+e]||f["cancelRequest"+e],m=0;!t&&m<w.length;m++){t=f[w[m]+"Request"+e],j=f[w[m]+"Cancel"+e]||f[w[m]+"CancelRequest"+e]}if(!t||!j){var v=0,q=0,p=[];t=function(l){if(0===p.length){var n=g(),h=Math.max(0,1000/60-(n-v));v=h+n,setTimeout(function(){var i=p.slice(0);p.length=0;for(var o=0;o<i.length;o++){if(!i[o].cancelled){try{i[o].callback(v)}catch(i){setTimeout(function(){throw i},0)}}}},Math.round(h))}return p.push({handle:++q,callback:l,cancelled:!1}),q},j=function(h){for(var i=0;i<p.length;i++){p[i].handle===h&&(p[i].cancelled=!0)}}}d.exports=function(h){return t.call(f,h)},d.exports.cancel=function(){j.apply(f,arguments)},d.exports.polyfill=function(){f.requestAnimationFrame=t,f.cancelAnimationFrame=j}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(p,k,g){function d(h,i){if(!(h instanceof i)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function e(l,o){for(var h=0;h<o.length;h++){var r=o[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,h,o){return h&&e(l.prototype,h),o&&e(l,o),l}}(),q=p("raf"),b=p("object-assign"),m={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(l,n,h){return n<h?l<n?n:l>h?h:l:l<h?h:l>n?n:l},data:function(h,i){return m.deserialize(h.getAttribute("data-"+i))},deserialize:function(e){return"true"===e||"false"!==e&&("null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e)},camelCase:function(e){return e.replace(/-+(.)?/g,function(h,i){return i?i.toUpperCase():""})},accelerate:function(e){m.css(e,"transform","translate3d(0,0,0) rotate(0.0001deg)"),m.css(e,"transform-style","preserve-3d"),m.css(e,"backface-visibility","hidden")},transformSupport:function(G){for(var C=document.createElement("div"),A=!1,x=null,w=!1,H=null,v=null,z=0,B=m.vendors.length;z<B;z++){if(null!==m.vendors[z]?(H=m.vendors[z][0]+"transform",v=m.vendors[z][1]+"Transform"):(H="transform",v="transform"),void 0!==C.style[v]){A=!0;break}}switch(G){case"2D":w=A;break;case"3D":if(A){var F=document.body||document.createElement("body"),E=document.documentElement,D=E.style.overflow,y=!1;document.body||(y=!0,E.style.overflow="hidden",E.appendChild(F),F.style.overflow="hidden",F.style.background=""),F.appendChild(C),C.style[v]="translate3d(1px,1px,1px)",w=void 0!==(x=window.getComputedStyle(C).getPropertyValue(H))&&x.length>0&&"none"!==x,E.style.overflow=D,F.removeChild(C),y&&(F.removeAttribute("style"),F.parentNode.removeChild(F))}}return w},css:function(l,u,h){var w=m.propertyCache[u];if(!w){for(var v=0,r=m.vendors.length;v<r;v++){if(w=null!==m.vendors[v]?m.camelCase(m.vendors[v][1]+"-"+u):u,void 0!==l.style[w]){m.propertyCache[u]=w;break}}}l.style[w]=h}},f={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:0.1,frictionY:0.1,originX:0.5,originY:0.5,pointerEvents:!1,precision:1,onReady:null,selector:null},j=function(){function e(n,h){d(this,e),this.element=n;var r={calibrateX:m.data(this.element,"calibrate-x"),calibrateY:m.data(this.element,"calibrate-y"),invertX:m.data(this.element,"invert-x"),invertY:m.data(this.element,"invert-y"),limitX:m.data(this.element,"limit-x"),limitY:m.data(this.element,"limit-y"),scalarX:m.data(this.element,"scalar-x"),scalarY:m.data(this.element,"scalar-y"),frictionX:m.data(this.element,"friction-x"),frictionY:m.data(this.element,"friction-y"),originX:m.data(this.element,"origin-x"),originY:m.data(this.element,"origin-y"),pointerEvents:m.data(this.element,"pointer-events"),precision:m.data(this.element,"precision"),relativeInput:m.data(this.element,"relative-input"),clipRelativeInput:m.data(this.element,"clip-relative-input"),hoverOnly:m.data(this.element,"hover-only"),inputElement:document.querySelector(m.data(this.element,"input-element")),selector:m.data(this.element,"selector")};for(var l in r){null===r[l]&&delete r[l]}b(this,f,r,h),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return c(e,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=m.transformSupport("2D"),this.transform3DSupport=m.transformSupport("3D")),this.transform3DSupport&&m.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var l=0;l<this.layers.length;l++){var n=this.layers[l];this.transform3DSupport&&m.accelerate(n),n.style.position=l?"absolute":"relative",n.style.display="block",n.style.left=0,n.style.top=0;var h=m.data(n,"depth")||0;this.depthsX.push(m.data(n,"depth-x")||h),this.depthsY.push(m.data(n,"depth-y")||h)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(h){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,h)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=q(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),q.cancel(this.raf))}},{key:"calibrate",value:function(h,i){this.calibrateX=void 0===h?this.calibrateX:h,this.calibrateY=void 0===i?this.calibrateY:i}},{key:"invert",value:function(h,i){this.invertX=void 0===h?this.invertX:h,this.invertY=void 0===i?this.invertY:i}},{key:"friction",value:function(h,i){this.frictionX=void 0===h?this.frictionX:h,this.frictionY=void 0===i?this.frictionY:i}},{key:"scalar",value:function(h,i){this.scalarX=void 0===h?this.scalarX:h,this.scalarY=void 0===i?this.scalarY:i}},{key:"limit",value:function(h,i){this.limitX=void 0===h?this.limitX:h,this.limitY=void 0===i?this.limitY:i}},{key:"origin",value:function(h,i){this.originX=void 0===h?this.originX:h,this.originY=void 0===i?this.originY:i}},{key:"setInputElement",value:function(h){this.inputElement=h,this.updateDimensions()}},{key:"setPosition",value:function(l,n,h){n=n.toFixed(this.precision)+"px",h=h.toFixed(this.precision)+"px",this.transform3DSupport?m.css(l,"transform","translate3d("+n+","+h+",0)"):this.transform2DSupport?m.css(l,"transform","translate("+n+","+h+")"):(l.style.left=n,l.style.top=h)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var v=this.inputX-this.calibrationX,y=this.inputY-this.calibrationY;(Math.abs(v)>this.calibrationThreshold||Math.abs(y)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?y:this.inputY,this.motionY=this.calibrateY?v:this.inputX):(this.motionX=this.calibrateX?v:this.inputX,this.motionY=this.calibrateY?y:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=m.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=m.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var u=0;u<this.layers.length;u++){var A=this.layers[u],z=this.depthsX[u],x=this.depthsY[u],s=this.velocityX*(z*(this.invertX?-1:1)),w=this.velocityY*(x*(this.invertY?-1:1));this.setPosition(A,s,w)}this.raf=q(this.onAnimationFrame)}},{key:"rotate",value:function(l,r){var h=(l||0)/30,u=(r||0)/30,s=this.windowHeight>this.windowWidth;this.portrait!==s&&(this.portrait=s,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=h,this.calibrationY=u),this.inputX=h,this.inputY=u}},{key:"onDeviceOrientation",value:function(l){var n=l.beta,h=l.gamma;null!==n&&null!==h&&(this.orientationStatus=1,this.rotate(n,h))}},{key:"onDeviceMotion",value:function(l){var n=l.rotationRate.beta,h=l.rotationRate.gamma;null!==n&&null!==h&&(this.motionStatus=1,this.rotate(n,h))}},{key:"onMouseMove",value:function(l){var n=l.clientX,h=l.clientY;if(this.hoverOnly&&(n<this.elementPositionX||n>this.elementPositionX+this.elementWidth||h<this.elementPositionY||h>this.elementPositionY+this.elementHeight)){return this.inputX=0,void (this.inputY=0)}this.relativeInput?(this.clipRelativeInput&&(n=Math.max(n,this.elementPositionX),n=Math.min(n,this.elementPositionX+this.elementWidth),h=Math.max(h,this.elementPositionY),h=Math.min(h,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(n-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(h-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(n-this.windowCenterX)/this.windowRadiusX,this.inputY=(h-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var h=0;h<this.layers.length;h++){this.layers[h].removeAttribute("style")}delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),e}();k.exports=j},{"object-assign":1,raf:4}]},{},[5])(5)});